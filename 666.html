<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        @font-face {font-family: 'STXingkai'; src: url('//fontlibrary.org/face/stxingkai')}
        
        body {
            margin: 0;
            background: #ffe6e6;
            font-family: 'STXingkai', cursive;
            overflow: hidden;
        }

        /* ç¬¬ä¸€ç¯èŠ‚æ ·å¼ */
        #game1 {
            position: relative;
            height: 100vh;
        }
        .word {
            position: absolute;
            padding: 8px 15px;
            border: 2px solid #ff3366;
            border-radius: 20px;
            margin: 5px;
            animation: fall 3s linear;
            cursor: pointer;
            background: #fff0f5;
        }
        @keyframes fall {
            from { top: -50px; }
            to { top: 100vh; }
        }
        
        /* ç¬¬äºŒç¯èŠ‚æ ·å¼ */
        #game2 {
            display: none;
            height: 100vh;
            background: #ffebeb;
            position: relative;
        }
        .firework {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffd700;
            animation: explode 1s ease-out;
        }
        .snake {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 80px;
            background: #4CAF50;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <!-- ç¬¬ä¸€ç¯èŠ‚ -->
    <div id="game1">
        <h2 id="score" style="text-align:center;color:#ff3366">å¾—åˆ†ï¼š0</h2>
        <div id="rules" style="position:fixed;bottom:10px;font-size:12px">
            æ¸¸æˆè§„åˆ™ï¼šç‚¹å‡»ç¥ç¦è¯å¾—åˆ†ï¼Œ10ç§’å†…å¾—5åˆ†å³å¯é€šå…³
        </div>
    </div>

    <!-- ç¬¬äºŒç¯èŠ‚ -->
    <div id="game2">
        <h2 style="text-align:center;color:#ff3366">ç”Ÿç”Ÿä¸æ¯ï¼Œäº‹äº‹å¦‚æ„</h2>
        <button id="wishBtn" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)">
            ğŸ‹ ç‚¹å‡»è®¸æ„¿
        </button>
        <div class="snake">
            <div style="position:absolute;width:30px;height:30px;background:#fff;border-radius:50%;top:10px;left:35px"></div>
            <div style="position:absolute;width:15px;height:15px;background:#000;border-radius:50%;top:20px;left:45px"></div>
        </div>
    </div>

<script>
// ç¬¬ä¸€ç¯èŠ‚é€»è¾‘
const blessings = ['å¿ƒæƒ³äº‹æˆ', 'ä¸‡äº‹å¦‚æ„', 'å¹³å®‰å–œä¹', 'é˜–å®¶æ¬¢ä¹', 'å‰ç¥¥å®‰åº·',
                  'è´¢æºå¹¿è¿›', 'æ­¥æ­¥é«˜å‡', 'å¹¸ç¦ç¾æ»¡', 'å¥åº·é•¿å¯¿', 'æ–°æ˜¥å¤§å‰'];
const normalWords = ['æ—¥å¸¸', 'æ™®é€š', 'ä¸€èˆ¬', 'å¹³å¸¸', 'ç®€å•', 'é‡å¤', 'å¸¸è§„', 'æ ‡å‡†'];

let score = 0;
let gameActive = true;

function createWord() {
    const word = document.createElement('div');
    const isBlessing = Math.random() > 0.4;
    word.className = 'word';
    word.style.left = Math.random() * 90 + '%';
    word.innerText = isBlessing ? 
        blessings[Math.floor(Math.random()*blessings.length)] :
        normalWords[Math.floor(Math.random()*normalWords.length)];
    
    word.onclick = () => {
        if(!gameActive) return;
        if(isBlessing) {
            score++;
            document.getElementById('score').innerText = `å¾—åˆ†ï¼š${score}`;
            word.style.backgroundColor = '#ffcccc';
        }
        word.style.animation = 'none';
        setTimeout(() => word.remove(), 300);
    }
    document.getElementById('game1').appendChild(word);
}

// æ¸¸æˆè®¡æ—¶
setTimeout(() => {
    gameActive = false;
    const result = score >=5 ? 
        'æ­å–œé€šå…³ï¼Œè¿›å…¥ç¬¬äºŒä¸ªç¯èŠ‚' : 'å†æ¥å†å‰';
    alert(result);
    if(score >=5) {
        document.getElementById('game1').style.display = 'none';
        document.getElementById('game2').style.display = 'block';
    }
}, 10000);

// ç”Ÿæˆè¯è¯­
for(let i=0; i<30; i++) {
    setTimeout(createWord, i*300);
}

// ç¬¬äºŒç¯èŠ‚é€»è¾‘
const wishes = [...blessings, 'é‡‘è›‡ç‹‚èˆ','çµè›‡é€ç¦','ç¥¥è›‡åç‘','å‰è›‡çº³ç¦','ç‘è›‡è¿æ˜¥'];
document.getElementById('wishBtn').onclick = function() {
    this.disabled = true;
    let count = 0;
    const anim = setInterval(() => {
        this.innerText = wishes[Math.floor(Math.random()*wishes.length)];
        if(++count === 30) {
            clearInterval(anim);
            this.innerHTML = `<div style="color:gold">ä¸Šä¸Šç­¾</div>${this.innerText}`;
            setTimeout(() => {
                document.body.innerHTML += `
                    <div style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
                        animation: fadeIn 2s;font-size:24px;color:#ff3366">
                        ç§‰é›¯æ­ç¥æ‚¨æ–°æ˜¥ä¸‡äº‹å¤§å‰ï¼Œå¹³å®‰å–œä¹ï¼Œæ‰€æ±‚çš†æ‰€å¾—
                    </div>`;
            }, 2500);
        }
    }, 100);
    
    // çƒŸèŠ±æ•ˆæœ
    setInterval(() => {
        const fw = document.createElement('div');
        fw.className = 'firework';
        fw.style.left = Math.random()*100 + 'vw';
        fw.style.top = Math.random()*100 + 'vh';
        document.body.appendChild(fw);
        setTimeout(() => fw.remove(), 1000);
    }, 300);
}
</script>
</body>
</html>